# Determine Homebrew prefix
BREW_PREFIX="/opt/homebrew"	# Default for newer macOS versions
if [[ ! -d ${BREW_PREFIX} ]]; then
  # Fallback to "classical" prefix from previous versions of macOS
  BREW_PREFIX="/usr/local"
fi
export BREW_PREFIX

# Initialize shell environment for Homebrew
eval "$(${BREW_PREFIX}/bin/brew shellenv)"

# Use functions installed via Homebrew
FPATH="${BREW_PREFIX}/share/zsh/site-functions:${FPATH}"

# Enable Bash completions compatibility
autoload bashcompinit && bashcompinit
FPATH="${BREW_PREFIX}/etc/bash_completion.d:${FPATH}"

export PATH="${HOME}/.local/bin:${HOME}/.local/share/mise/shims:${PATH}"

# Added by OrbStack: command-line tools and integration
source ~/.orbstack/shell/init.zsh 2>/dev/null || :
